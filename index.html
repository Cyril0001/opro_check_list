<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OPRO Checklist</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f6f6f6;
    }
    h1 {
      font-size: 22px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin-bottom: 12px;
      background: #fff;
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    a {
      color: #007bff;
      text-decoration: none;
    }
    input[type="checkbox"] {
      width: 20px;
      height: 20px;
    }
  </style>
</head>
<body>
  <h1>Мой чеклист трасс</h1>
  <ul id="routes">
    <!-- Контент будет сгенерирован скриптом -->
  </ul>

  <script>
    const routes = [
      { id: 38, title: "Трасса 38", url: "https://orienteering.pro/route/38_Vitaliy" },
      { id: 39, title: "Трасса 39", url: "https://orienteering.pro/route/39_Vitaliy" },
      { id: 40, title: "Трасса 40", url: "https://orienteering.pro/route/40_Vitaliy" },
      { id: 41, title: "Трасса 41", url: "https://orienteering.pro/route/41_Vitaliy" },
      { id: 42, title: "Трасса 42", url: "https://orienteering.pro/route/42_Vitaliy" },
      { id: 43, title: "Трасса 43", url: "https://orienteering.pro/route/43_Vitaliy" },
      { id: 44, title: "Трасса 44", url: "https://orienteering.pro/route/44_Vitaliy" },
      { id: 45, title: "Трасса 45", url: "https://orienteering.pro/route/45_Vitaliy" },
      { id: 46, title: "Трасса 46", url: "https://orienteering.pro/route/46_Vitaliy" },
      { id: 47, title: "Трасса 47", url: "https://orienteering.pro/route/47_Vitaliy" },
    ];

    const list = document.getElementById("routes");

    routes.forEach(({ id, title, url }) => {
      const checked = localStorage.getItem("route_" + id) === "1";

      const li = document.createElement("li");
      const link = document.createElement("a");
      const checkbox = document.createElement("input");

      link.href = url;
      link.textContent = title;
      link.target = "_blank";

      checkbox.type = "checkbox";
      checkbox.checked = checked;
      checkbox.onchange = () => {
        localStorage.setItem("route_" + id, checkbox.checked ? "1" : "0");
      };

      li.appendChild(link);
      li.appendChild(checkbox);
      list.appendChild(li);
    });
  </script>
</body>
</html>
